var startTime,endTime,currTime,timeDiff,globalData,textLog=[],socket=io.connect('http://'+document.domain+':'+location.port);socket.on('message',function(a){if(globalData=a,updateProgressBar(a.progress),a.start?(appendNewLine('Crawler Start'),currTime=new Date,textLog.push(currTime+': Crawler Stared'),setRootData(a.new_node),startTime=new Date):(currTime=new Date,textLog.push(currTime+': '+a.log),appendNewLine(a.log),update(a.new_node)),a.final){currTime=new Date,textLog.push(currTime+': Crawler Finished'),endTime=new Date,timeDiff=endTime-startTime,timeDiff/=1e3,Math.round(timeDiff%60);var b='Crawler Ended Elapsed Time: '+timeDiff+'sec';appendNewLine(b),fadeProgressBar(),showPostSearch()}});